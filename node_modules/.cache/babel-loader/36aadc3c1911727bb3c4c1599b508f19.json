{"ast":null,"code":"import * as React from 'react';\nimport { useFirebaseApp } from '..';\n\nfunction getPerfFromContext() {\n  var firebaseApp = useFirebaseApp();\n\n  if (!firebaseApp) {\n    throw new Error('Firebase not found in context. Either pass it directly to a reactfire hook, or wrap your component in a FirebaseAppProvider');\n  }\n\n  var perfFunc = firebaseApp.performance;\n\n  if (!perfFunc || !perfFunc()) {\n    throw new Error(\"No perf object off of Firebase. Did you forget to import 'firebase/performance' in a component?\");\n  }\n\n  return perfFunc();\n}\n\nexport function SuspenseWithPerf(_a) {\n  var children = _a.children,\n      traceId = _a.traceId,\n      fallback = _a.fallback,\n      firePerf = _a.firePerf;\n  firePerf = firePerf || getPerfFromContext();\n\n  var Fallback = function () {\n    React.useLayoutEffect(function () {\n      var trace = firePerf.trace(traceId);\n      trace.start();\n      return function () {\n        trace.stop();\n      };\n    }, [traceId]);\n    return React.createElement(React.Fragment, null, fallback);\n  };\n\n  return React.createElement(React.Suspense, {\n    fallback: React.createElement(Fallback, null)\n  }, children);\n}","map":{"version":3,"sources":["C:/Users/Juan Pablo/Desktop/firebase-react-byte/node_modules/reactfire/performance/index.js"],"names":["React","useFirebaseApp","getPerfFromContext","firebaseApp","Error","perfFunc","performance","SuspenseWithPerf","_a","children","traceId","fallback","firePerf","Fallback","useLayoutEffect","trace","start","stop","createElement","Fragment","Suspense"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,cAAT,QAA+B,IAA/B;;AACA,SAASC,kBAAT,GAA8B;AAC1B,MAAIC,WAAW,GAAGF,cAAc,EAAhC;;AACA,MAAI,CAACE,WAAL,EAAkB;AACd,UAAM,IAAIC,KAAJ,CAAU,6HAAV,CAAN;AACH;;AACD,MAAIC,QAAQ,GAAGF,WAAW,CAACG,WAA3B;;AACA,MAAI,CAACD,QAAD,IAAa,CAACA,QAAQ,EAA1B,EAA8B;AAC1B,UAAM,IAAID,KAAJ,CAAU,iGAAV,CAAN;AACH;;AACD,SAAOC,QAAQ,EAAf;AACH;;AACD,OAAO,SAASE,gBAAT,CAA0BC,EAA1B,EAA8B;AACjC,MAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAlB;AAAA,MAA4BC,OAAO,GAAGF,EAAE,CAACE,OAAzC;AAAA,MAAkDC,QAAQ,GAAGH,EAAE,CAACG,QAAhE;AAAA,MAA0EC,QAAQ,GAAGJ,EAAE,CAACI,QAAxF;AACAA,EAAAA,QAAQ,GAAGA,QAAQ,IAAIV,kBAAkB,EAAzC;;AACA,MAAIW,QAAQ,GAAG,YAAY;AACvBb,IAAAA,KAAK,CAACc,eAAN,CAAsB,YAAY;AAC9B,UAAIC,KAAK,GAAGH,QAAQ,CAACG,KAAT,CAAeL,OAAf,CAAZ;AACAK,MAAAA,KAAK,CAACC,KAAN;AACA,aAAO,YAAY;AACfD,QAAAA,KAAK,CAACE,IAAN;AACH,OAFD;AAGH,KAND,EAMG,CAACP,OAAD,CANH;AAOA,WAAOV,KAAK,CAACkB,aAAN,CAAoBlB,KAAK,CAACmB,QAA1B,EAAoC,IAApC,EAA0CR,QAA1C,CAAP;AACH,GATD;;AAUA,SAAOX,KAAK,CAACkB,aAAN,CAAoBlB,KAAK,CAACoB,QAA1B,EAAoC;AAAET,IAAAA,QAAQ,EAAEX,KAAK,CAACkB,aAAN,CAAoBL,QAApB,EAA8B,IAA9B;AAAZ,GAApC,EAAuFJ,QAAvF,CAAP;AACH","sourcesContent":["import * as React from 'react';\nimport { useFirebaseApp } from '..';\nfunction getPerfFromContext() {\n    var firebaseApp = useFirebaseApp();\n    if (!firebaseApp) {\n        throw new Error('Firebase not found in context. Either pass it directly to a reactfire hook, or wrap your component in a FirebaseAppProvider');\n    }\n    var perfFunc = firebaseApp.performance;\n    if (!perfFunc || !perfFunc()) {\n        throw new Error(\"No perf object off of Firebase. Did you forget to import 'firebase/performance' in a component?\");\n    }\n    return perfFunc();\n}\nexport function SuspenseWithPerf(_a) {\n    var children = _a.children, traceId = _a.traceId, fallback = _a.fallback, firePerf = _a.firePerf;\n    firePerf = firePerf || getPerfFromContext();\n    var Fallback = function () {\n        React.useLayoutEffect(function () {\n            var trace = firePerf.trace(traceId);\n            trace.start();\n            return function () {\n                trace.stop();\n            };\n        }, [traceId]);\n        return React.createElement(React.Fragment, null, fallback);\n    };\n    return React.createElement(React.Suspense, { fallback: React.createElement(Fallback, null) }, children);\n}\n"]},"metadata":{},"sourceType":"module"}